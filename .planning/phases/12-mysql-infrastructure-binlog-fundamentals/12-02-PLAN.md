---
phase: 12-mysql-infrastructure-binlog-fundamentals
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/content/course/08-module-8/01-binlog-architecture.mdx
autonomous: true

must_haves:
  truths:
    - "Learner can explain the three binlog formats (ROW, STATEMENT, MIXED) and their trade-offs"
    - "Learner understands why ROW format is required for CDC"
    - "Learner can identify binlog events in the replication stream"
    - "Learner knows how binlog rotation works"
  artifacts:
    - path: "src/content/course/08-module-8/01-binlog-architecture.mdx"
      provides: "Binlog architecture deep-dive lesson"
      min_lines: 200
      contains: "binlog_format"
  key_links:
    - from: "src/content/course/08-module-8/01-binlog-architecture.mdx"
      to: "Module 2 PostgreSQL WAL lessons"
      via: "comparison references"
      pattern: "PostgreSQL|WAL"
---

<objective>
Create the first lesson of Module 8 explaining MySQL binlog architecture, formats, and how it differs from PostgreSQL WAL.

Purpose: Learners need to understand MySQL binlog fundamentals before configuring the Debezium MySQL connector. This lesson bridges their PostgreSQL WAL knowledge (from Module 2) to MySQL binlog concepts.

Output: `src/content/course/08-module-8/01-binlog-architecture.mdx` with deep-dive content on binlog formats, events, and rotation.
</objective>

<execution_context>
@/Users/levoely/.claude/get-shit-done/workflows/execute-plan.md
@/Users/levoely/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-mysql-infrastructure-binlog-fundamentals/12-RESEARCH.md
@src/content/course/02-module-2/01-logical-decoding-deep-dive.mdx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Module 8 directory and binlog architecture lesson</name>
  <files>
    src/content/course/08-module-8/01-binlog-architecture.mdx
  </files>
  <action>
Create the Module 8 directory and first lesson following the established pattern from Module 2.

1. Create directory: `src/content/course/08-module-8/`

2. Create `01-binlog-architecture.mdx` with the following structure:

**Frontmatter:**
```yaml
---
title: "MySQL Binary Log: Архитектура и форматы"
description: "Глубокое погружение в MySQL binlog: форматы ROW/STATEMENT/MIXED, структура событий, ротация логов и сравнение с PostgreSQL WAL"
order: 1
difficulty: "intermediate"
estimatedTime: 30
topics: ["mysql", "binlog", "replication", "cdc"]
prerequisites: ["module-2/01-logical-decoding-deep-dive"]
---
```

**Content structure (Russian text, English code):**

1. **Introduction** - Bridge from PostgreSQL WAL knowledge
   - Reference Module 2 logical decoding lesson
   - Explain: "In PostgreSQL we learned about WAL and logical decoding. MySQL uses a different approach - binary logging."

2. **Binary Log vs Write-Ahead Log** - Mermaid comparison diagram
   - PostgreSQL: WAL is physical, logical decoding transforms it
   - MySQL: Binlog is already logical (at least in ROW format)
   - Key difference: MySQL binlog is designed for replication first, PostgreSQL WAL is for durability first

3. **Binlog Formats Deep Dive**
   - **ROW format (Required for CDC)**:
     - Records actual row changes (before/after values)
     - Deterministic - same result on replica
     - Larger log size
     - Example: INSERT записывает все значения колонок
   - **STATEMENT format**:
     - Records SQL statements
     - Smaller log size
     - Non-deterministic functions (NOW(), RAND()) break replication
     - NOT suitable for CDC
   - **MIXED format**:
     - MySQL chooses automatically
     - Unpredictable for CDC - avoid

   Include comparison table:
   | Характеристика | ROW | STATEMENT | MIXED |
   |----------------|-----|-----------|-------|
   | Determinism | Deterministic | Non-deterministic | Variable |
   | Log size | Large | Small | Variable |
   | CDC compatible | Yes | No | No |
   | Recommended | For CDC | Legacy only | Avoid |

4. **Binlog Event Types** - Mermaid sequence diagram
   - GTID Event (transaction identifier)
   - Query Event (DDL)
   - Table Map Event (schema mapping)
   - Write Rows Event (INSERT)
   - Update Rows Event (UPDATE)
   - Delete Rows Event (DELETE)
   - XID Event (transaction commit)

5. **Binlog Rotation and Files**
   - mysql-bin.000001, mysql-bin.000002, etc.
   - When rotation happens (size, restart, FLUSH LOGS)
   - mysql-bin.index file
   - Importance for CDC: position tracking

6. **Verification Commands** - practical SQL examples
   ```sql
   -- Check binlog format
   SHOW VARIABLES LIKE 'binlog_format';

   -- List binlog files
   SHOW BINARY LOGS;

   -- Show current position
   SHOW MASTER STATUS;

   -- View binlog events (limit to avoid huge output)
   SHOW BINLOG EVENTS IN 'mysql-bin.000001' LIMIT 20;
   ```

7. **Key Takeaways** - bullet points
8. **What's Next** - preview GTID mode lesson

**Style guidelines (matching Module 2):**
- Use Mermaid component: `import { Mermaid } from '../../../components/Mermaid.tsx';`
- Russian text for explanations
- English for code/config
- Tables for comparisons
- Callouts for warnings (> **Warning:** ...)
- Code blocks with language tags
  </action>
  <verify>
File exists: `ls "/Users/levoely/debezium course/src/content/course/08-module-8/01-binlog-architecture.mdx"`

Content includes key concepts:
- `grep "binlog_format" "/Users/levoely/debezium course/src/content/course/08-module-8/01-binlog-architecture.mdx"`
- `grep "ROW" "/Users/levoely/debezium course/src/content/course/08-module-8/01-binlog-architecture.mdx"`
- `grep "Mermaid" "/Users/levoely/debezium course/src/content/course/08-module-8/01-binlog-architecture.mdx"`

Line count: `wc -l "/Users/levoely/debezium course/src/content/course/08-module-8/01-binlog-architecture.mdx"` should be > 200
  </verify>
  <done>
01-binlog-architecture.mdx exists with:
- Frontmatter with correct metadata
- ROW/STATEMENT/MIXED comparison with table
- Binlog event types explanation
- Verification commands
- Mermaid diagrams
- Russian text / English code style
  </done>
</task>

</tasks>

<verification>
1. File exists at `src/content/course/08-module-8/01-binlog-architecture.mdx`
2. Frontmatter includes title, description, order, difficulty
3. Content explains all three binlog formats with comparison table
4. Mermaid diagrams are included for visual learners
5. Verification SQL commands are provided
6. Content references PostgreSQL WAL for learner context bridging
</verification>

<success_criteria>
- Module 8 directory exists
- 01-binlog-architecture.mdx is created with 200+ lines
- Lesson covers ROW, STATEMENT, MIXED formats with clear CDC recommendation
- Binlog events and rotation are explained
- Style matches Module 2 (Russian text, English code, Mermaid diagrams)
</success_criteria>

<output>
After completion, create `.planning/phases/12-mysql-infrastructure-binlog-fundamentals/12-02-SUMMARY.md`
</output>
