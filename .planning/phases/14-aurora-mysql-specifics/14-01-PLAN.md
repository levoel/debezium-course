---
phase: 14-aurora-mysql-specifics
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/content/course/08-module-8/07-aurora-parameter-groups.mdx
autonomous: true

must_haves:
  truths:
    - "Learner can configure Aurora MySQL parameter groups for CDC (binlog format, retention)"
    - "Learner understands difference between cluster and instance parameter groups"
    - "Learner can use mysql.rds_set_configuration stored procedure for binlog retention"
    - "Learner knows Aurora 2.10+ requires manual reboot of reader instances"
  artifacts:
    - path: "src/content/course/08-module-8/07-aurora-parameter-groups.mdx"
      provides: "Aurora MySQL parameter groups configuration lesson"
      min_lines: 400
      contains: ["rds_set_configuration", "db-cluster-parameter-group", "binlog retention hours"]
  key_links:
    - from: "07-aurora-parameter-groups.mdx"
      to: "Phase 12-13 lessons (04-06)"
      via: "prerequisites field"
      pattern: "prerequisites:.*06-schema-history-recovery"
---

<objective>
Create comprehensive Aurora MySQL parameter groups configuration lesson covering cluster vs instance parameter groups, binlog retention via stored procedures, and reboot requirements.

Purpose: MYSQL-07 requires Aurora MySQL-specific configuration knowledge. This lesson teaches learners how Aurora's managed database approach differs from community MySQL configuration covered in Phase 12.

Output: `src/content/course/08-module-8/07-aurora-parameter-groups.mdx` with complete Aurora parameter groups guide
</objective>

<execution_context>
@/Users/levoely/.claude/get-shit-done/workflows/execute-plan.md
@/Users/levoely/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/14-aurora-mysql-specifics/14-RESEARCH.md
@src/content/course/08-module-8/06-schema-history-recovery.mdx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Aurora parameter groups configuration lesson</name>
  <files>src/content/course/08-module-8/07-aurora-parameter-groups.mdx</files>
  <action>
Create lesson file with frontmatter:
- title: "Aurora MySQL: Конфигурация Parameter Groups для CDC"
- order: 7
- difficulty: intermediate
- estimatedTime: 25 minutes
- topics: aurora-mysql, aws, parameter-groups, binlog, cdc
- prerequisites: module-8/06-schema-history-recovery

Content structure (Russian text, English code):

1. **Introduction** - Aurora MySQL vs Community MySQL configuration
   - Managed service model (no direct my.cnf access)
   - Parameter groups as configuration mechanism
   - Why this matters for CDC setup

2. **Parameter Group Types** (key concept)
   - DB Cluster Parameter Group (cluster-wide: binlog_format, aurora_enhanced_binlog)
   - DB Parameter Group (instance-level: max_connections, innodb_buffer_pool_size)
   - Table showing which CDC parameters go where
   - Danger callout: binlog settings are CLUSTER level, not instance

3. **Creating Custom Parameter Group for CDC** (hands-on)
   - Why default parameter groups cannot be modified
   - AWS CLI commands to create custom db-cluster-parameter-group
   - Parameter group family: aurora-mysql8.0
   - Setting binlog_format=ROW (explicit, even though MySQL 8.0.34+ defaults to ROW)

4. **Associating Parameter Group with Cluster** (hands-on)
   - AWS CLI modify-db-cluster command
   - --apply-immediately vs pending reboot
   - Verification: describe-db-cluster-parameter-groups

5. **Reboot Requirements** (CRITICAL section)
   - Aurora 2.09 and earlier: Writer reboot cascades to readers
   - Aurora 2.10+: Readers must be manually rebooted
   - Warning callout: Readers showing old parameter values
   - AWS CLI reboot commands for writer and readers

6. **Binlog Retention via Stored Procedures** (Aurora-specific)
   - Why binlog_expire_logs_seconds parameter doesn't work in Aurora
   - mysql.rds_set_configuration('binlog retention hours', N)
   - Maximum values: 168 hours (Aurora < 2.11.0), 2160 hours (Aurora >= 2.11.0/3.x)
   - mysql.rds_show_configuration for verification
   - SHOW BINARY LOGS to verify actual retention
   - Pitfall: Backup retention affects binlog retention

7. **Verification Checklist** (hands-on)
   - SHOW VARIABLES LIKE 'binlog_format' on writer
   - SHOW VARIABLES LIKE 'binlog_format' on reader (verify same value)
   - mysql.rds_show_configuration for retention
   - SHOW BINARY LOGS for file listing

8. **Common Pitfalls** (table format)
   - Setting binlog params on instance parameter group (wrong scope)
   - Forgetting to reboot readers (Aurora 2.10+)
   - Retention shorter than expected (backup retention impact)
   - Connecting to reader endpoint for CDC

9. **Key Takeaways** (6-8 bullet points)

10. **What's Next** (preview Enhanced Binlog architecture)

Use Mermaid for:
- Parameter group scope diagram (Cluster PG -> Writer/Readers, Instance PG -> Individual instance)
- Configuration workflow diagram (Create PG -> Modify params -> Associate -> Reboot -> Verify)

Use Callout components:
- type="danger" for cluster vs instance scope confusion
- type="warning" for Aurora 2.10+ reboot requirement
- type="tip" for stored procedure usage
- type="note" for comparison to community MySQL
  </action>
  <verify>
```bash
# File exists with substantial content
wc -l src/content/course/08-module-8/07-aurora-parameter-groups.mdx
# Expected: 400+ lines

# Contains Aurora-specific stored procedure
grep -c "rds_set_configuration" src/content/course/08-module-8/07-aurora-parameter-groups.mdx

# Contains parameter group commands
grep "db-cluster-parameter-group" src/content/course/08-module-8/07-aurora-parameter-groups.mdx

# Contains retention configuration
grep -c "binlog retention hours" src/content/course/08-module-8/07-aurora-parameter-groups.mdx
```
  </verify>
  <done>Lesson covers: parameter group types, AWS CLI configuration, stored procedure binlog retention, reboot requirements, verification. Learner can configure Aurora MySQL for CDC.</done>
</task>

</tasks>

<verification>
```bash
# Lesson file exists and has proper frontmatter
head -20 src/content/course/08-module-8/07-aurora-parameter-groups.mdx | grep -E "^(title|order|difficulty):"

# Minimum content depth
wc -l src/content/course/08-module-8/07-aurora-parameter-groups.mdx

# Build passes (Astro can process MDX)
cd /Users/levoely/debezium\ course && npm run build 2>&1 | tail -5
```
</verification>

<success_criteria>
- Lesson file exists at src/content/course/08-module-8/07-aurora-parameter-groups.mdx
- Content is 400+ lines covering all sections
- Contains Aurora-specific stored procedure (mysql.rds_set_configuration)
- Contains AWS CLI parameter group commands
- Contains reboot requirement documentation (Aurora 2.10+)
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/14-aurora-mysql-specifics/14-01-SUMMARY.md`
</output>
