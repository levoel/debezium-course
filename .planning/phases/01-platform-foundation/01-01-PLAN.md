---
phase: 01-platform-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - astro.config.mjs
  - tsconfig.json
  - tailwind.config.mjs
  - src/env.d.ts
autonomous: true

must_haves:
  truths:
    - "npm install completes without errors"
    - "npm run dev starts development server on localhost:4321"
    - "Shiki renders code blocks with syntax highlighting"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies"
      contains: "astro"
    - path: "astro.config.mjs"
      provides: "Astro configuration with Shiki"
      contains: "shikiConfig"
    - path: "tailwind.config.mjs"
      provides: "Tailwind CSS configuration"
  key_links:
    - from: "astro.config.mjs"
      to: "markdown.shikiConfig.langs"
      via: "Shiki language configuration"
      pattern: "langs.*python.*yaml.*sql.*json"
---

<objective>
Initialize Astro 5 project with React, Tailwind, and MDX integrations. Configure Shiki syntax highlighting for all required languages (Python, YAML, SQL, JSON).

Purpose: Establishes the technical foundation for the entire course website. All subsequent plans depend on this configuration.
Output: Working Astro project with all integrations ready, syntax highlighting configured.
</objective>

<execution_context>
@/Users/levoely/.claude/get-shit-done/workflows/execute-plan.md
@/Users/levoely/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-platform-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Astro project with integrations</name>
  <files>
    package.json
    astro.config.mjs
    tsconfig.json
    tailwind.config.mjs
    src/env.d.ts
  </files>
  <action>
Create Astro 5 project in the project root (not a subdirectory). Use Astro's create command with automatic setup, then add integrations:

1. Run `npm create astro@latest . -- --template minimal --install --no-git --typescript strict` in project root
   - Use `.` to create in current directory (not nested)
   - Template: minimal (clean slate)
   - TypeScript: strict mode
   - Skip git init (already initialized)

2. Add React integration: `npx astro add react --yes`
   - Installs: @astrojs/react, react@^19, react-dom@^19

3. Add Tailwind integration: `npx astro add tailwind --yes`
   - Installs: @astrojs/tailwind, tailwindcss

4. Add MDX integration: `npx astro add mdx --yes`
   - Installs: @astrojs/mdx

5. Install Mermaid: `npm install mermaid`

IMPORTANT: Run commands sequentially (each astro add modifies astro.config.mjs).

After integrations, verify astro.config.mjs includes react(), tailwind(), and mdx() in integrations array.
  </action>
  <verify>
Run `npm run dev` - should start on http://localhost:4321 without errors.
Run `cat package.json | grep -E "(astro|react|tailwind|mermaid)"` - should show all dependencies.
  </verify>
  <done>
Astro 5 project runs with React 19, Tailwind 4.x, and MDX integrations. Mermaid installed.
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Shiki syntax highlighting</name>
  <files>
    astro.config.mjs
  </files>
  <action>
Update astro.config.mjs to configure Shiki for all required languages.

Add markdown configuration block with shikiConfig:

```javascript
// astro.config.mjs
import { defineConfig } from 'astro/config';
import react from '@astrojs/react';
import tailwind from '@astrojs/tailwind';
import mdx from '@astrojs/mdx';

export default defineConfig({
  site: 'https://yourusername.github.io', // Will update with actual repo
  base: '/debezium-course', // GitHub Pages base path
  integrations: [
    react(),
    tailwind(),
    mdx(),
  ],
  markdown: {
    shikiConfig: {
      theme: 'github-dark',
      langs: ['python', 'yaml', 'sql', 'json', 'javascript', 'typescript', 'java', 'bash', 'dockerfile'],
      wrap: true, // Prevent horizontal scroll on mobile
    },
  },
});
```

CRITICAL: Use exact language identifiers:
- `python` (not `py`)
- `yaml` (not `yml`)
- `sql` (not `postgres` or `postgresql`)
- `json` (not `jsonc`)

Also add `bash` and `dockerfile` for Docker Compose examples in later phases.
  </action>
  <verify>
Create a test file `src/pages/test.md` with code blocks:

```markdown
# Test Page

\`\`\`python
print("Hello CDC")
\`\`\`

\`\`\`yaml
version: "3.9"
services:
  postgres:
    image: postgres:15
\`\`\`

\`\`\`sql
SELECT * FROM users;
\`\`\`

\`\`\`json
{"name": "debezium"}
\`\`\`
```

Run `npm run dev`, visit http://localhost:4321/test - code blocks should have colored syntax highlighting (not plain monospace text).
  </verify>
  <done>
All code blocks (Python, YAML, SQL, JSON) render with github-dark theme syntax highlighting. Long lines wrap instead of scrolling.
  </done>
</task>

</tasks>

<verification>
1. `npm run dev` starts successfully on port 4321
2. Package.json includes astro, @astrojs/react, @astrojs/tailwind, @astrojs/mdx, mermaid
3. Test markdown page shows syntax highlighting for all languages
4. No TypeScript errors in project
</verification>

<success_criteria>
- Astro development server runs without errors
- React, Tailwind, MDX integrations active in astro.config.mjs
- Shiki configured with python, yaml, sql, json, javascript, typescript, java, bash, dockerfile
- Code blocks render with syntax highlighting (verified visually)
</success_criteria>

<output>
After completion, create `.planning/phases/01-platform-foundation/01-01-SUMMARY.md`
</output>
