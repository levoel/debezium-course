---
phase: 05-module-1-foundations
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/content/course/module-1/01-cdc-fundamentals.mdx
  - src/content/course/module-1/02-debezium-architecture.mdx
autonomous: true

must_haves:
  truths:
    - "Students can explain what CDC is and why log-based CDC is superior to polling"
    - "Students can describe Debezium architecture components (Kafka Connect, Server, Embedded)"
  artifacts:
    - path: "src/content/course/module-1/01-cdc-fundamentals.mdx"
      provides: "CDC theory lesson with polling vs log-based comparison"
      contains: "log-based"
      min_lines: 150
    - path: "src/content/course/module-1/02-debezium-architecture.mdx"
      provides: "Debezium architecture lesson with component diagrams"
      contains: "Kafka Connect"
      min_lines: 200
  key_links:
    - from: "src/content/course/module-1/01-cdc-fundamentals.mdx"
      to: "Mermaid component"
      via: "import { Mermaid } from '../../../components/Mermaid.tsx'"
      pattern: "import.*Mermaid.*from.*\\.\\./\\.\\./\\.\\./components/Mermaid"
    - from: "src/content/course/module-1/02-debezium-architecture.mdx"
      to: "Mermaid component"
      via: "import { Mermaid } from '../../../components/Mermaid.tsx'"
      pattern: "import.*Mermaid.*from.*\\.\\./\\.\\./\\.\\./components/Mermaid"
---

<objective>
Create the foundational theory lessons for Module 1: CDC Fundamentals and Debezium Architecture.

Purpose: Students need to understand WHY log-based CDC is superior before diving into hands-on work. These lessons establish the conceptual foundation that makes the practical work meaningful.

Output: Two MDX lesson files with Mermaid diagrams, clear explanations in Russian, and proper frontmatter for course navigation.
</objective>

<execution_context>
@/Users/levoely/.claude/get-shit-done/workflows/execute-plan.md
@/Users/levoely/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-module-1-foundations/05-RESEARCH.md

# Existing content patterns
@src/content/course/01-intro/index.mdx
@src/content/config.ts

# Mermaid component for correct import path
@src/components/Mermaid.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CDC Fundamentals Lesson</name>
  <files>src/content/course/module-1/01-cdc-fundamentals.mdx</files>
  <action>
Create the first lesson explaining CDC fundamentals with these sections:

**Frontmatter (follow existing schema):**
```yaml
title: "Что такое Change Data Capture"
description: "Понимание CDC, сравнение polling vs log-based подходов, use cases для CDC"
order: 1
difficulty: "beginner"
estimatedTime: 15
topics: ["CDC", "Log-based Replication", "Data Synchronization"]
```

**Content structure (in Russian, code in English):**
1. **Hook:** Start with a problem - stale data from polling, missed deletes, high database load
2. **Definition:** What is CDC - capturing database changes as they happen
3. **Comparison table:** Polling vs Log-based CDC
   - Latency (seconds/minutes vs milliseconds)
   - Delete detection (impossible vs guaranteed)
   - Database load (high vs minimal)
   - Completeness (can miss changes vs every change captured)
4. **Mermaid flowchart:** Show polling (query every X seconds) vs log-based (stream from WAL)
5. **Use cases:** Data sync, event-driven architecture, audit, analytics pipelines
6. **Key insight:** Log-based CDC uses database's own transaction log - guaranteed to see every committed change

**Mermaid import (CRITICAL - use exact relative path):**
```jsx
import { Mermaid } from '../../../components/Mermaid.tsx';
```
This path is relative from `src/content/course/module-1/` to `src/components/`.

**Style guidelines:**
- Russian explanatory text, English code/technical terms
- Keep code blocks minimal in this theory lesson
- Progressive disclosure: problem -> solution -> why it works

**Anti-patterns to avoid:**
- Don't dive into Debezium specifics yet (that's lesson 02)
- Don't show Docker setup (that's lesson 03)
- Don't use kafka-python (use confluent-kafka per research)
  </action>
  <verify>
1. File exists at src/content/course/module-1/01-cdc-fundamentals.mdx
2. Run `npm run build` - check for content collection validation errors (no errors = frontmatter valid)
3. Mermaid import uses correct relative path: `import { Mermaid } from '../../../components/Mermaid.tsx'`
4. Contains Mermaid diagram comparing polling vs log-based
5. Explains WHY log-based is superior (not just that it is)
  </verify>
  <done>
Lesson file exists with valid frontmatter (verified by npm run build), contains polling vs log-based comparison with Mermaid diagram using correct import path, explains CDC concept in Russian with clear use cases.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Debezium Architecture Lesson</name>
  <files>src/content/course/module-1/02-debezium-architecture.mdx</files>
  <action>
Create the second lesson explaining Debezium architecture with these sections:

**Frontmatter:**
```yaml
title: "Архитектура Debezium"
description: "Компоненты Debezium, режимы развертывания: Kafka Connect, Server, Embedded"
order: 2
difficulty: "beginner"
estimatedTime: 20
topics: ["Debezium", "Kafka Connect", "Architecture"]
prerequisites: ["module-1/01-cdc-fundamentals"]
```

**Mermaid import (CRITICAL - use exact relative path):**
```jsx
import { Mermaid } from '../../../components/Mermaid.tsx';
```

**Content structure:**
1. **What is Debezium:** Open-source CDC platform built on Kafka Connect
2. **Three deployment modes:**
   - **Kafka Connect (recommended):** Managed by Kafka Connect cluster, connectors for multiple DBs
   - **Debezium Server:** Standalone, no Kafka required, sinks to Pub/Sub, Kinesis, etc.
   - **Debezium Embedded:** Library for custom Java apps, most control but most work
3. **Mermaid diagram:** Show all three modes side by side
4. **Kafka Connect architecture detail:**
   - Workers, connectors, tasks
   - Configuration topics (configs, offsets, status)
   - REST API for management
5. **Mermaid sequence diagram:** PostgreSQL WAL -> Debezium Connector -> Kafka Topic -> Consumer
6. **When to use each mode:**
   - Kafka Connect: Most use cases, team already uses Kafka
   - Server: No Kafka in stack, prefer cloud-native sinks
   - Embedded: Custom processing, low-latency requirements
7. **Our lab environment:** Brief preview that we use Kafka Connect mode

**Technical accuracy:**
- Mention Debezium 2.5.x (not 3.x) per project decision
- Reference pgoutput plugin (built-in, no installation needed)
- Note KRaft mode (no ZooKeeper) per lab setup

**Mermaid diagrams needed:**
1. Three deployment modes comparison (flowchart)
2. Kafka Connect internal architecture (flowchart)
3. CDC event flow from DB to consumer (sequence diagram)
  </action>
  <verify>
1. File exists at src/content/course/module-1/02-debezium-architecture.mdx
2. Run `npm run build` - no content collection errors (validates frontmatter and prerequisites)
3. Mermaid import uses correct relative path: `import { Mermaid } from '../../../components/Mermaid.tsx'`
4. Contains all three deployment modes with clear explanations
5. At least 2 Mermaid diagrams present
6. Mentions Kafka Connect, Server, Embedded modes
  </verify>
  <done>
Lesson file exists with valid frontmatter (verified by npm run build), Mermaid import uses correct path `../../../components/Mermaid.tsx`, explains Debezium architecture with three deployment modes and at least 2 Mermaid diagrams.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `ls src/content/course/module-1/` shows both .mdx files
2. `npm run build` succeeds without content validation errors
3. Both files contain `import { Mermaid } from '../../../components/Mermaid.tsx'` (exact path)
4. Both files have valid YAML frontmatter matching schema
5. Manual review: Lessons follow progressive disclosure (01 establishes CDC, 02 introduces Debezium)
</verification>

<success_criteria>
- Two lesson files created with valid frontmatter
- Both contain Mermaid diagrams for visual learning with correct import path
- Lesson 01 covers CDC concept and polling vs log-based comparison
- Lesson 02 covers Debezium architecture with three deployment modes
- Content is in Russian with English code/terms
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-module-1-foundations/05-01-SUMMARY.md`
</output>
