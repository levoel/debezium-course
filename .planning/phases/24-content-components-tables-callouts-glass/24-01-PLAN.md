---
phase: 24-content-components-tables-callouts-glass
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/global.css
autonomous: true

must_haves:
  truths:
    - "MDX tables render with visible 1px solid cell borders for data tracking"
    - "Table header row has elevated opacity compared to data rows"
    - "Tables use light glass effect (8px blur, low opacity)"
    - "Code blocks use solid backgrounds without glass blur"
    - "Table text is clearly readable against glass background"
  artifacts:
    - path: "src/styles/global.css"
      provides: "Glass table styles and solid code block styles"
      contains: ".prose table"
  key_links:
    - from: "src/styles/global.css"
      to: "MDX rendered tables in prose class"
      via: ".prose table selector"
      pattern: "\\.prose table"
---

<objective>
Add light glass effect to MDX tables with clear cell borders and ensure code blocks use solid backgrounds for syntax highlighting readability.

Purpose: Tables need visible structure for data tracking while maintaining glass aesthetic. Code blocks must preserve syntax highlighting contrast.
Output: CSS rules in global.css for glass tables and solid code blocks.
</objective>

<execution_context>
@/Users/levoely/.claude/get-shit-done/workflows/execute-plan.md
@/Users/levoely/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-content-components-tables-callouts-glass/24-RESEARCH.md
@src/styles/global.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add glass table styles to global.css</name>
  <files>src/styles/global.css</files>
  <action>
Add MDX table glass styling after the existing .prose blockquote rule. Use these exact patterns from research:

1. Add CSS custom property for light glass (after existing :root variables):
```css
/* Light glass for content components (tables) */
--glass-blur-content: 8px;
--glass-bg-content-opacity: 0.05;
```

2. Add .prose table styling:
```css
/* Glass tables with clear cell borders */
.prose table {
  background: rgba(255, 255, 255, var(--glass-bg-content-opacity));
  backdrop-filter: blur(var(--glass-blur-content));
  -webkit-backdrop-filter: blur(var(--glass-blur-content));
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  border-collapse: separate;
  border-spacing: 0;
  overflow: hidden;
  width: 100%;
  margin-bottom: 1.5rem;
}

.prose thead {
  background: rgba(255, 255, 255, 0.1); /* Elevated opacity for headers */
}

.prose th {
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  padding: 12px 16px;
  text-align: left;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.95);
}

.prose td {
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-right: 1px solid rgba(255, 255, 255, 0.08);
  padding: 12px 16px;
  color: rgba(255, 255, 255, 0.9);
}

.prose td:last-child {
  border-right: none;
}

.prose tr:last-child td {
  border-bottom: none;
}

/* Hover state for data rows */
.prose tbody tr:hover {
  background: rgba(255, 255, 255, 0.05);
}
```

3. Add accessibility override in the existing @media (prefers-reduced-transparency: reduce) block:
```css
.prose table {
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  background: rgba(30, 30, 50, 0.95);
}
```

Key requirements:
- Use 8px blur (lighter than standard 10px glass)
- Clear 1px solid borders between all cells (UX-03a)
- Header row elevated opacity (0.1 vs 0.05 for body)
- Hover state for row tracking
  </action>
  <verify>
Run `npm run build` - build succeeds without CSS errors.
Open any lesson with a table (e.g., Module 3 binlog comparison) and verify:
- Table has glass effect visible against gradient background
- Cell borders are visible between all cells
- Header row is slightly more opaque than body rows
  </verify>
  <done>
Tables render with light glass effect (8px blur), visible 1px solid cell borders, and header row has elevated opacity. Hover state highlights active row.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add solid code block styles to global.css</name>
  <files>src/styles/global.css</files>
  <action>
Update the existing .prose pre rules to ensure code blocks use solid backgrounds (NO glass effect) to preserve Shiki syntax highlighting.

Replace the existing .prose pre rule with:
```css
.prose pre {
  /* Solid background - NO glass effect for syntax highlighting readability */
  background: rgba(30, 30, 40, 0.95);
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border-radius: 12px;
  padding: 16px;
  overflow-x: auto;
  border: 1px solid rgba(255, 255, 255, 0.1);
  margin-bottom: 1.5rem;
}
```

Keep the existing .prose pre code rule:
```css
.prose pre code {
  @apply bg-transparent p-0;
  font-size: 0.9em;
  line-height: 1.7;
}
```

Update the inline code rule (keep light background, no blur):
```css
.prose :not(pre) > code {
  @apply bg-gray-800/90 text-gray-100 px-1.5 py-0.5 rounded text-sm;
  backdrop-filter: none;
}
```

Key requirements:
- pre elements: 0.95 opacity solid background
- NO backdrop-filter on code blocks (preserves syntax highlighting)
- Inline code keeps solid styling (no glass)
  </action>
  <verify>
Run `npm run build` - build succeeds.
Open any lesson with code blocks and verify:
- Code syntax colors are clearly distinct (not washed out)
- Code blocks have visible border and rounded corners
- Background is near-solid (not transparent glass)
  </verify>
  <done>
Code blocks render with solid 0.95 opacity background, no backdrop-filter, preserving Shiki syntax highlighting readability. Inline code uses solid background.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. Run `npm run build && npm run preview`
2. Navigate to a lesson with both tables and code blocks
3. Verify tables have glass effect with visible cell borders
4. Verify code blocks have solid background (syntax colors distinct)
5. Test with browser DevTools - toggle prefers-reduced-transparency to verify accessibility fallback removes table glass effect
</verification>

<success_criteria>
- [ ] MDX tables render with light glass effect (8px blur)
- [ ] Tables have clear 1px solid borders between cells
- [ ] Table header row has elevated opacity (0.1 vs 0.05)
- [ ] Code blocks use solid 0.95 opacity background
- [ ] Code blocks have NO backdrop-filter
- [ ] Syntax highlighting colors remain distinct and readable
- [ ] Build succeeds without errors
- [ ] Accessibility fallback removes table glass on prefers-reduced-transparency
</success_criteria>

<output>
After completion, create `.planning/phases/24-content-components-tables-callouts-glass/24-01-SUMMARY.md`
</output>
