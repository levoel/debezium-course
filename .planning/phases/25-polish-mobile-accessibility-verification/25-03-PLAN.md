---
phase: 25-polish-mobile-accessibility-verification
plan: 03
type: execute
wave: 2
depends_on: ["25-01"]
files_modified:
  - .planning/phases/25-polish-mobile-accessibility-verification/VERIFICATION-CHECKLIST.md
autonomous: false

must_haves:
  truths:
    - "Manual verification workflows are documented for performance testing"
    - "Manual verification workflows are documented for cross-browser testing"
    - "Manual verification workflows are documented for contrast verification"
    - "All glass effects verified working in Chrome, Firefox, and Safari"
    - "60fps verified on mobile emulation with CPU throttling"
    - "WCAG 4.5:1 contrast verified for all text on glass backgrounds"
  artifacts:
    - path: ".planning/phases/25-polish-mobile-accessibility-verification/VERIFICATION-CHECKLIST.md"
      provides: "Manual verification workflows and completion checklist"
      min_lines: 100
  key_links:
    - from: "VERIFICATION-CHECKLIST.md"
      to: "global.css"
      via: "verification of glass classes"
      pattern: "glass-panel|glass-card|glass-sidebar"
---

<objective>
Create manual verification workflows and complete comprehensive testing for mobile performance, cross-browser compatibility, and contrast verification.

Purpose: Automated tests catch ~57% of accessibility issues. The remaining 43% require manual verification, especially for: (1) glass effect performance on mobile GPUs, (2) Safari-specific rendering, (3) contrast on semi-transparent backgrounds. This plan documents the workflows AND completes the verification.

Output: VERIFICATION-CHECKLIST.md with documented workflows and completed checkboxes proving all success criteria are met.
</objective>

<execution_context>
@/Users/levoely/.claude/get-shit-done/workflows/execute-plan.md
@/Users/levoely/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/25-polish-mobile-accessibility-verification/25-RESEARCH.md
@.planning/phases/25-polish-mobile-accessibility-verification/25-01-SUMMARY.md

# Files to verify
@src/styles/global.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create verification checklist document</name>
  <files>.planning/phases/25-polish-mobile-accessibility-verification/VERIFICATION-CHECKLIST.md</files>
  <action>
Create a comprehensive verification checklist document with the following structure:

```markdown
# Phase 25 Verification Checklist

**Created:** [date]
**Last Verified:** [date]

## Overview

This checklist documents manual verification workflows for Phase 25 success criteria that cannot be fully automated. Complete each section and check off items as verified.

---

## 1. Mobile Performance Verification

### Workflow: Chrome DevTools Mobile Emulation

**Prerequisites:**
- Site running locally: `npm run preview`
- Chrome browser open to `http://localhost:4321/debezium-course/`

**Steps:**
1. Open Chrome DevTools (Cmd+Option+I / Ctrl+Shift+I)
2. Toggle device toolbar (Cmd+Shift+M / Ctrl+Shift+M)
3. Select device: "iPhone 12 Pro" (low-end mobile GPU simulation)
4. Open Performance tab → Settings (gear icon) → CPU: 4x slowdown
5. Open Performance monitor (Cmd+Shift+P → "Show Performance Monitor")

**Test Scenarios:**
| Scenario | Expected FPS | Pass/Fail |
|----------|--------------|-----------|
| Homepage scroll through module accordions | >= 60fps | [ ] |
| Expand/collapse accordion item | >= 60fps | [ ] |
| Navigate to lesson page | >= 60fps | [ ] |
| Scroll lesson content with glass sidebar | >= 60fps | [ ] |

**Verification Notes:**
- FPS should stay green (>= 60) in Performance Monitor
- If yellow/red (<60fps) observed, document which interaction caused it
- Minor dips during initial render are acceptable; sustained drops are not

### Checklist

- [ ] iPhone 12 Pro emulation: All scenarios >= 60fps
- [ ] CPU 4x throttling enabled during tests
- [ ] Performance Monitor shows sustained 60fps during scroll
- [ ] No GPU memory warnings in Performance tab

---

## 2. Cross-Browser Verification

### Chrome (macOS/Windows)

**Test URL:** `http://localhost:4321/debezium-course/`

| Test | Expected | Status |
|------|----------|--------|
| Glass blur renders on homepage | Blur visible on module cards | [ ] |
| Glass sidebar renders on lesson pages | Blur visible on left sidebar | [ ] |
| CSS variables work (inspect computed styles) | backdrop-filter shows blur value | [ ] |
| Hover effects work on glass cards | Card lifts on hover | [ ] |
| No console errors | Console clean | [ ] |

### Firefox (macOS/Windows)

**Test URL:** `http://localhost:4321/debezium-course/`

| Test | Expected | Status |
|------|----------|--------|
| Glass blur renders on homepage | Blur visible on module cards | [ ] |
| Glass sidebar renders on lesson pages | Blur visible on left sidebar | [ ] |
| @supports fallback not triggered | backdrop-filter is applied | [ ] |
| Hover effects work on glass cards | Card lifts on hover | [ ] |
| No console errors | Console clean | [ ] |

**Note:** `prefers-reduced-transparency` requires `about:config` flag in Firefox. This is expected behavior.

### Safari (macOS)

**Test URL:** `http://localhost:4321/debezium-course/`

| Test | Expected | Status |
|------|----------|--------|
| Glass blur renders on homepage | Blur visible (hardcoded webkit values) | [ ] |
| Glass sidebar renders on lesson pages | Blur visible on left sidebar | [ ] |
| Inspect -webkit-backdrop-filter | Shows hardcoded blur(10px), not var() | [ ] |
| Mobile Safari (Responsive Design Mode) | Blur reduces to 8px on mobile viewport | [ ] |
| Hover effects work on glass cards | Card lifts on hover | [ ] |
| No console errors | Console clean | [ ] |

**Critical Safari Check:**
- Inspect any `.glass-panel` element
- Computed styles MUST show `-webkit-backdrop-filter: blur(10px)` (hardcoded)
- If it shows `blur(var(--glass-blur-md))`, the fix from 25-01 was not applied correctly

---

## 3. Contrast Verification (WCAG 4.5:1)

### Workflow: Chrome DevTools Contrast Checker

**Steps:**
1. Right-click on text element → Inspect
2. In Styles panel, find the `color` property
3. Click on the color swatch (colored square)
4. DevTools shows "Contrast ratio: X.XX" with checkmark if passing

**OR use WebAIM Contrast Checker:**
1. Open https://webaim.org/resources/contrastchecker/
2. Sample foreground color (text) and background color
3. Verify ratio >= 4.5:1 for normal text, >= 3:1 for large text

### Glass Component Contrast Tests

| Component | Text Color | Background | Ratio | Pass (4.5:1+) |
|-----------|------------|------------|-------|---------------|
| Sidebar module name | rgba(255,255,255,0.9) | glass-sidebar over gradient | [ ] __:1 | [ ] |
| Module card title | rgba(255,255,255,0.95) | glass-card over gradient | [ ] __:1 | [ ] |
| Module card description | rgba(255,255,255,0.7) | glass-card over gradient | [ ] __:1 | [ ] |
| Table header text | rgba(255,255,255,0.95) | glass table header | [ ] __:1 | [ ] |
| Table cell text | rgba(255,255,255,0.9) | glass table body | [ ] __:1 | [ ] |
| Lesson content text | text-gray-300 (#D1D5DB) | gradient background | [ ] __:1 | [ ] |
| Progress panel text | rgba(255,255,255,0.9) | glass-panel | [ ] __:1 | [ ] |

**Notes:**
- Glass backgrounds are semi-transparent over dynamic gradient
- Sample the ACTUAL rendered color, not the CSS value
- If any ratio < 4.5:1, document and recommend fix

---

## 4. Accessibility Media Query Verification

### prefers-reduced-transparency

**Chrome DevTools emulation:**
1. Cmd+Shift+P → "Show Rendering"
2. Find "Emulate CSS media feature prefers-reduced-transparency"
3. Set to "reduce"
4. Refresh page

| Test | Expected | Status |
|------|----------|--------|
| Glass panels become nearly opaque | opacity ~0.95 | [ ] |
| Backdrop blur disabled | No blur visible | [ ] |
| All text remains readable | Contrast maintained | [ ] |

### prefers-reduced-motion

**Chrome DevTools emulation:**
1. Cmd+Shift+P → "Show Rendering"
2. Find "Emulate CSS media feature prefers-reduced-motion"
3. Set to "reduce"
4. Refresh page

| Test | Expected | Status |
|------|----------|--------|
| Glass card hover: no lift animation | Static hover state | [ ] |
| Page transitions disabled | Instant navigation | [ ] |
| Accordion expand: no animation | Instant expand | [ ] |

---

## 5. Lighthouse Accessibility Audit

**Steps:**
1. Open Chrome DevTools → Lighthouse tab
2. Select: Accessibility (deselect others for focused audit)
3. Device: Mobile
4. Generate report

### Results

| Metric | Score | Pass (>= 90) |
|--------|-------|--------------|
| Accessibility | [ ] /100 | [ ] |

**Violations found (if any):**
1. [ ] None
2. [ ] List violations here if found...

---

## Summary

### Phase 25 Success Criteria Status

| # | Criterion | Status |
|---|-----------|--------|
| 1 | All glass effects use responsive blur reduction (8px mobile vs 12-16px desktop) | [ ] Verified |
| 2 | Performance testing maintains 60fps with no GPU overload | [ ] Verified |
| 3 | prefers-reduced-transparency increases opacity to 95% and disables blur | [ ] Verified |
| 4 | prefers-reduced-motion disables all glass animations | [ ] Verified |
| 5 | Accessibility audit shows zero WCAG 4.5:1 contrast violations | [ ] Verified |
| 6 | Manual contrast testing confirms all text readable | [ ] Verified |
| 7 | Cross-browser testing (Chrome, Firefox, Safari) confirms correct rendering | [ ] Verified |

### Sign-off

**Verified by:** ____________________
**Date:** ____________________
**Phase 25 Status:** [ ] COMPLETE / [ ] INCOMPLETE

---

*This checklist is reusable for future glass design changes. Re-run after any modifications to src/styles/global.css.*
```

Save this document to `.planning/phases/25-polish-mobile-accessibility-verification/VERIFICATION-CHECKLIST.md`
  </action>
  <verify>
```bash
wc -l ".planning/phases/25-polish-mobile-accessibility-verification/VERIFICATION-CHECKLIST.md"
grep "Mobile Performance" ".planning/phases/25-polish-mobile-accessibility-verification/VERIFICATION-CHECKLIST.md"
grep "Cross-Browser" ".planning/phases/25-polish-mobile-accessibility-verification/VERIFICATION-CHECKLIST.md"
```
File should be 150+ lines and contain all verification sections.
  </verify>
  <done>VERIFICATION-CHECKLIST.md created with comprehensive manual verification workflows.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Complete manual verification and sign off</name>
  <what-built>
Verification checklist document with workflows for:
- Mobile performance testing (Chrome DevTools)
- Cross-browser testing (Chrome, Firefox, Safari)
- Contrast verification (WCAG 4.5:1)
- Accessibility media query testing
- Lighthouse accessibility audit
  </what-built>
  <how-to-verify>
**Complete the VERIFICATION-CHECKLIST.md by testing each section:**

1. **Mobile Performance:**
   - Start preview server: `npm run preview`
   - Open Chrome, go to `http://localhost:4321/debezium-course/`
   - Enable mobile emulation (iPhone 12 Pro) + 4x CPU throttle
   - Open Performance Monitor
   - Test all scenarios, check FPS stays >= 60

2. **Cross-Browser (Chrome, Firefox, Safari):**
   - Open the site in each browser
   - Verify glass blur renders correctly
   - Check Safari specifically for webkit hardcoded values (Inspect element → Computed → -webkit-backdrop-filter should show blur(10px) not var())

3. **Contrast:**
   - Use Chrome DevTools color picker on text elements
   - Verify all text/background combos show >= 4.5:1 ratio
   - Fill in ratio values in checklist

4. **Accessibility Media Queries:**
   - Use Chrome DevTools Rendering tab to emulate prefers-reduced-transparency and prefers-reduced-motion
   - Verify behaviors match expectations

5. **Lighthouse:**
   - Run Lighthouse accessibility audit
   - Record score in checklist

**After completing all sections:**
- Fill in all checkboxes in VERIFICATION-CHECKLIST.md
- Add your name and date to Sign-off section
- Mark Phase 25 Status as COMPLETE or note any remaining issues
  </how-to-verify>
  <resume-signal>
Type "verified" with summary of results (scores, any issues found), or describe issues that need to be addressed before phase can be marked complete.
  </resume-signal>
</task>

</tasks>

<verification>
1. Document exists at `.planning/phases/25-polish-mobile-accessibility-verification/VERIFICATION-CHECKLIST.md`
2. All sections completed with checkboxes filled
3. Sign-off section completed with name/date
4. All 7 Phase 25 Success Criteria marked as "Verified"
5. Lighthouse accessibility score >= 90/100
</verification>

<success_criteria>
1. VERIFICATION-CHECKLIST.md created with all workflow documentation
2. Mobile performance verified at 60fps (iPhone 12 Pro emulation, 4x CPU throttle)
3. Cross-browser verified (Chrome, Firefox, Safari all render glass correctly)
4. Safari specifically shows hardcoded webkit blur values, not CSS variables
5. All contrast ratios >= 4.5:1 documented
6. Accessibility media queries verified working
7. Lighthouse accessibility score >= 90
8. Sign-off completed, Phase 25 marked COMPLETE
</success_criteria>

<output>
After completion, create `.planning/phases/25-polish-mobile-accessibility-verification/25-03-SUMMARY.md`
</output>
